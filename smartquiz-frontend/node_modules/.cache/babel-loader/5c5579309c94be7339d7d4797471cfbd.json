{"ast":null,"code":"import _classCallCheck from \"/home/rishabbakshi/Codebase/My Projects/Github/smartquiz-master/smartquiz-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/rishabbakshi/Codebase/My Projects/Github/smartquiz-master/smartquiz-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/rishabbakshi/Codebase/My Projects/Github/smartquiz-master/smartquiz-frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/rishabbakshi/Codebase/My Projects/Github/smartquiz-master/smartquiz-frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/rishabbakshi/Codebase/My Projects/Github/smartquiz-master/smartquiz-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/rishabbakshi/Codebase/My Projects/Github/smartquiz-master/smartquiz-frontend/src/components/Login/Login.js\";\nimport React, { Component } from 'react';\nimport './Login.css';\nimport magnet from \"../../assets/img/magnet.svg\";\nimport 'tachyons';\nimport { RSA_NO_PADDING } from 'constants';\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this));\n\n    _this.onEmailChange = function (event) {\n      _this.setState({\n        loginEmail: event.target.value\n      });\n    };\n\n    _this.onPasswordChange = function (event) {\n      _this.setState({\n        loginPassword: event.target.value\n      });\n    };\n\n    _this.onLogin = function (event) {\n      var _this$state = _this.state,\n          loginEmail = _this$state.loginEmail,\n          loginPassword = _this$state.loginPassword;\n      fetch(global.API_URL + 'login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': \"application/json\"\n        },\n        body: JSON.stringify({\n          email: loginEmail,\n          password: loginPassword\n        })\n      }).then(function (res) {\n        return res.json();\n      }).then(function (user) {\n        console.log(user);\n\n        if (user.id) {\n          _this.props.loadUser(user);\n\n          _this.props.onRouteChange('home');\n        } else {\n          alert(user);\n        }\n      }).catch(function (err) {\n        return console.log(\"ERROR\", err);\n      });\n    };\n\n    _this.state = {\n      loginEmail: \"\",\n      loginPassword: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      var onRouteChange = this.props.onRouteChange;\n      return React.createElement(\"main\", {\n        className: \"pa4 black-80 bg-light-gray\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"center flex-column\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"fieldset\", {\n        id: \"sign_up\",\n        className: \"ba b--transparent ph0 mh0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"app-logo\",\n        src: magnet,\n        height: \"60px\",\n        width: \"60px\",\n        alt: \"QuizMaster\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"mt3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"db fw6 lh-copy f6 tl\",\n        htmlFor: \"email-address\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"Email\"), React.createElement(\"input\", {\n        onChange: this.onEmailChange,\n        className: \"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\",\n        type: \"email\",\n        name: \"email-address\",\n        id: \"email-address\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"mv3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"db fw6 lh-copy f6 tl\",\n        htmlFor: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"Password\"), React.createElement(\"input\", {\n        onChange: this.onPasswordChange,\n        className: \"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\",\n        type: \"password\",\n        name: \"password\",\n        id: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib\",\n        type: \"submit\",\n        value: \"Sign in\",\n        onClick: this.onLogin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"lh-copy mt3 f6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"New User?\", React.createElement(\"a\", {\n        href: \"#0\",\n        className: \"link black db pointer\",\n        onClick: function onClick() {\n          return onRouteChange('register');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \" \", React.createElement(\"div\", {\n        className: \"underline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"Sign up Here\")))));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nexport default Login;","map":{"version":3,"sources":["/home/rishabbakshi/Codebase/My Projects/Github/smartquiz-master/smartquiz-frontend/src/components/Login/Login.js"],"names":["React","Component","RSA_NO_PADDING","Login","props","onEmailChange","event","setState","loginEmail","target","value","onPasswordChange","loginPassword","onLogin","state","fetch","global","API_URL","method","headers","body","JSON","stringify","email","password","then","res","json","user","console","log","id","loadUser","onRouteChange","alert","catch","err","magnet"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './Login.css';\nimport magnet from '../../assets/img/magnet.svg';\n\nimport 'tachyons';\nimport { RSA_NO_PADDING } from 'constants';\n\nclass Login extends Component {\n    constructor(props) {\n        super()\n        this.state = {\n            loginEmail: \"\",\n            loginPassword: \"\"\n        }\n    }\n\n    onEmailChange = (event) => {\n        this.setState({ loginEmail: event.target.value })\n    }\n\n    onPasswordChange = (event) => {\n        this.setState({ loginPassword: event.target.value })\n\n    }\n\n    onLogin = (event) => {\n        const { loginEmail, loginPassword } = this.state;\n        fetch(global.API_URL + 'login', {\n            method: 'POST',\n            headers: {\n                'Content-Type': \"application/json\",\n            },\n            body: JSON.stringify({\n                email: loginEmail,\n                password: loginPassword\n            })\n        })\n            .then(res => {\n                return res.json()\n            })\n            .then(user => {\n                console.log(user);\n                if (user.id) {\n                    this.props.loadUser(user)\n                    this.props.onRouteChange('home');\n                }else{\n                    alert(user);\n                }\n            })\n            .catch(err => console.log(\"ERROR\", err))\n    }\n\n    render() {\n        const { onRouteChange } = this.props;\n\n        return (\n            <main className=\"pa4 black-80 bg-light-gray\">\n                <div className=\"center flex-column\">\n                    <fieldset id=\"sign_up\" className=\"ba b--transparent ph0 mh0\">\n                        <img className=\"app-logo\" src={magnet} height=\"60px\" width=\"60px\" alt=\"QuizMaster\" />\n                        <div className=\"mt3\">\n                            <label className=\"db fw6 lh-copy f6 tl\" htmlFor=\"email-address\">Email</label>\n                            <input onChange={this.onEmailChange} className=\"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\" type=\"email\" name=\"email-address\" id=\"email-address\" />\n                        </div>\n                        <div className=\"mv3\">\n                            <label className=\"db fw6 lh-copy f6 tl\" htmlFor=\"password\">Password</label>\n                            <input onChange={this.onPasswordChange} className=\"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\" type=\"password\" name=\"password\" id=\"password\" />\n                        </div>\n                    </fieldset>\n                    <div className=\"center\">\n                        <input\n                            className=\"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib\"\n                            type=\"submit\"\n                            value=\"Sign in\"\n                            onClick={this.onLogin} />\n                    </div>\n                    <div className=\"lh-copy mt3 f6\">\n                        New User?\n                        <a href=\"#0\" className=\"link black db pointer\" onClick={() => onRouteChange('register')}> <div className=\"underline\">Sign up Here</div></a>\n                    </div>\n                </div>\n            </main>\n\n        )\n    }\n\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}